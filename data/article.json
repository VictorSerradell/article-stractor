{
  "url": "https://www.wexterhome.com/proyectos-con-arduino/pantalla-holografica/",
  "title": "Pantalla holográfica: animaciones con solo una barra led",
  "description": "Hace unos meses construimos una pantalla POV. Este proyecto consistía en hacer girar una barra led muy rápido y cambiar los colores de los leds en el momento exacto para crear imágenes. Sin embargo, faltaban...",
  "links": [
    "https://www.wexterhome.com/proyectos-con-arduino/pantalla-holografica/",
    "https://www.wexterhome.com/?p=7398"
  ],
  "image": "https://www.wexterhome.com/wp-content/uploads/2022/10/Pantalla-holografica.jpg",
  "content": "<div>\n\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>Hace unos meses construimos una pantalla POV. Este proyecto consistía en hacer girar una barra led muy rápido y cambiar los colores de los leds en el momento exacto para crear imágenes. Sin embargo, faltaban muchas cosas por mejorar. Sobre todo la resolución, ya que la barra led solo tenía 70 leds y medía 50 centímetros. La estructura tampoco era demasiado robusta y el microcontrolador solo podía guardar 9 imágenes en su memoria. </p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t</p><h2>Resumen del proyecto pantalla holográfica</h2>\t\t<p></p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>Como ya sabes, uno de los defectos de la primera pantalla holográfica es que tenía muy poca densidad de leds. Como no hemos encontrado tiras led de mayor densidad, hemos diseñado nuestra propia PCB, la cual lleva leds de 2 milímetros. La PCB mide casi 50 centímetros y tiene 200 leds, o sea que hemos multiplicado por 3 la densidad de la versión anterior. </p><p>Además esta vez, en lugar de usar un Arduino Nano como controlador hemos utilizado una ESP32, en la cual caben 90 imágenes. Gracias a ello además de imágenes esta nueva versión de la pantalla también puede mostrar animaciones. </p><p>Respecto a la estructura, al igual que en la versión anterior, la hemos impreso con una impresora 3D. Sin embargo, el diseño es mucho mejor. Es más estable y no da la sensación de que se vaya a romper nada más poner la barra led a girar. </p><p>Otra ventaja del nuevo diseño es que para alimentar los leds de la barra led, en vez utilizar un anillo colector para pasar los cables, hemos usado una fuente de alimentación inalámbrica. De esta forma, no hay cables entre el estator (la base) y el rotor (la barra led). </p><p>El enlace a todos los archivos del proyecto (diseño, gerber de la PCB, código, etc) está en el siguiente apartado, «lista de materiales». </p>\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t</p><h2>Lista de materiales</h2>\t\t<p></p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><strong>Motor de corriente continua 600 RPM 6V</strong></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Motor-de-corriente-continua-600-RPM.jpg\" alt=\"Motor de corriente continua 600 RPM\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Motor-de-corriente-continua-600-RPM.jpg 1000w, https://www.wexterhome.com/wp-content/uploads/2022/10/Motor-de-corriente-continua-600-RPM-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Motor-de-corriente-continua-600-RPM-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/10/Motor-de-corriente-continua-600-RPM-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/10/Motor-de-corriente-continua-600-RPM-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><b>F.A inalámbrica de 5V y 2A</b></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Fuente-de-alimentacion-inalambrica.jpg\" alt=\"Fuente de alimentación inalámbrica\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Fuente-de-alimentacion-inalambrica.jpg 1000w, https://www.wexterhome.com/wp-content/uploads/2022/10/Fuente-de-alimentacion-inalambrica-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Fuente-de-alimentacion-inalambrica-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/10/Fuente-de-alimentacion-inalambrica-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/10/Fuente-de-alimentacion-inalambrica-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><b>Conector de acoplamiento 3 mm</b></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Conector-de-acoplamiento.jpg\" alt=\"Conector de acoplamiento\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Conector-de-acoplamiento.jpg 1000w, https://www.wexterhome.com/wp-content/uploads/2022/10/Conector-de-acoplamiento-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Conector-de-acoplamiento-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/10/Conector-de-acoplamiento-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/10/Conector-de-acoplamiento-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall.jpg\" alt=\"Sensor de efecto hall\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall.jpg 1700w, https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall-1536x1536.jpg 1536w, https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/04/Sensor-de-efecto-hall-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><b>Driver de motor de CC 5V-35V</b></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Driver-motor-de-corriente-continua.jpg\" alt=\"Driver motor de corriente continua\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Driver-motor-de-corriente-continua.jpg 1000w, https://www.wexterhome.com/wp-content/uploads/2022/10/Driver-motor-de-corriente-continua-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Driver-motor-de-corriente-continua-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/10/Driver-motor-de-corriente-continua-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/10/Driver-motor-de-corriente-continua-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/ESP32.jpg\" alt=\"ESP32\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/ESP32.jpg 1000w, https://www.wexterhome.com/wp-content/uploads/2022/10/ESP32-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/ESP32-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/10/ESP32-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/10/ESP32-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><b>Fuente de alimentación 5V</b></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/05/Fuente-de-alimentacion-5V-3A.jpg\" alt=\"Fuente de alimentación 5V 3A\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/05/Fuente-de-alimentacion-5V-3A.jpg 1500w, https://www.wexterhome.com/wp-content/uploads/2022/05/Fuente-de-alimentacion-5V-3A-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/05/Fuente-de-alimentacion-5V-3A-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/05/Fuente-de-alimentacion-5V-3A-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/05/Fuente-de-alimentacion-5V-3A-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Convertidor-de-tension.jpg\" alt=\"Convertidor de tensión\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Convertidor-de-tension.jpg 1000w, https://www.wexterhome.com/wp-content/uploads/2022/10/Convertidor-de-tension-768x768.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Convertidor-de-tension-300x300.jpg 300w, https://www.wexterhome.com/wp-content/uploads/2022/10/Convertidor-de-tension-600x600.jpg 600w, https://www.wexterhome.com/wp-content/uploads/2022/10/Convertidor-de-tension-100x100.jpg 100w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t</p><h2>Esquema eléctrico</h2>\t\t<p></p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-estator-pantalla-holografica.jpg\" alt=\"Esquema eléctrico estátor pantalla holográfica\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-estator-pantalla-holografica.jpg 1920w, https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-estator-pantalla-holografica-768x432.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-estator-pantalla-holografica-1536x864.jpg 1536w, https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-estator-pantalla-holografica-600x338.jpg 600w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p><img src=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-rotor-pantalla-holografica.jpg\" alt=\"Esquema eléctrico rotor pantalla holográfica\" srcset=\"https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-rotor-pantalla-holografica.jpg 1920w, https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-rotor-pantalla-holografica-768x432.jpg 768w, https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-rotor-pantalla-holografica-1536x864.jpg 1536w, https://www.wexterhome.com/wp-content/uploads/2022/10/Esquema-electrico-rotor-pantalla-holografica-600x338.jpg 600w\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>Por un lado, en la base de la pantalla holográfica está el motor de corriente continua conectado al driver, y a su vez éste está alimentado directamente por la fuente de alimentación. Como la fuente de alimentación inalámbrica requiere 12 Voltios, hemos añadido un transformador de voltaje para pasar los 5V a 12V.</p><p>En el rotor (la parte que gira) está el receptor de la fuente de alimentación inalámbrica con las que alimentamos la PCB. Esta PCB tiene 200 leds WS2812B, 200 condensadores, una ESP32 y un sensor de efecto Hall que hemos conectado con cables al pin digital 12. Lo hemos tenido que conectar con cables porque se nos olvidó incluirlo en el diseño de la PCB.</p>\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t</p><h2>Código de la pantalla holográfica</h2>\t\t<p></p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t</p><h3>Pantalla holográfica con imágenes</h3>\t\t<p></p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>El código es un poco complicado de entender si no tienes experiencia programando. Sin embargo, vamos a ver que es lo que tienes que hacer para poder cambiar las animaciones e imágenes que muestra la pantalla holográfica. </p>\n<p>Lo primero, cuando tengas una imagen ya elegida, es cambiar su tamaño a 200 x 200 píxeles. Además si quieres que la imagen no tenga fondo, tienes que dejarlo de color negro, <b>no</b> transparente. </p>\n<p>Una vez tienes tu imagen de 200 x 200, abre el programa de Python llamado «process_images» y en la línea 7 cambias el nombre que hay escrito por el nombre de tu imagen. En el código podrás ver que está indicado donde tienes que cambiarlo. </p>\n<p>A continuación lo ejecutas con el comando «python3 .\\process_images.py» y automáticamente se crea un archivo de texto llamado «img_converted.txt». Este archivo contiene la matriz que representa tu imagen en la pantalla POV. El nombre de la variable es «frameX». Este nombre lo puedes cambiar y poner el que tu quieras. Nosotros a estas variables las llamamos por orden número, es decir, «frame0», «frame1», etc.</p>\n<p>En este punto ya has terminado con el código de Python. Ahora tienes que abrir el código de Arduino llamado «PantallaPOV_V2», que son dos ficheros, «PantallaPOV_V2.ino» e «imgs.h». En «imgs.h» es donde tienes que copiar la matriz de tu nueva imagen. Verás que ya hay 5 matrices, que son las 5 imágenes que nosotros hemos utilizado. Puedes borrarlas o dejarlas, lo que tu quieras. </p>\n<p>Ya para terminar tienes que ir a las líneas de código 138, 142, 154 y 158 del archivo «PantallaPOV_V2.ino», y donde pone «frame1», sustituirlo por el nombre de la variable de tu nueva imagen. Otra cosa que puedes modificar es el brillo de los leds. Para ello solo tienes que ir a la línea 19 de este mismo archivo y modificar el valor de la variable BRIGHTNESS. </p>\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t</p><h3>Pantalla holográfica con animaciones</h3>\t\t<p></p>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t<p>Si lo que quieres mostrar en la pantalla POV es una animación, lo primero que debes hacer después de encontrar el vídeo que quieres mostrar es escalarlo a 200 x 200 píxeles, al igual que las imágenes. Además ten en cuenta que en la ESP32 solo caben unas 80 – 90 imágenes. Por lo que si el vídeo está a 30 FPS, solo podrás mostrar 3 segundos, pero si está a 10 FPS, podrás mostrar 8 segundos, que es lo que hemos hecho nosotros.</p><p>Una vez tienes tu vídeo escalado y recortado, tienes que abrir el código de Python «process_animations». En la línea 7 tienes que cambiar el nombre del vídeo que hay escrito y poner el nombre de tu vídeo. Cuando ejecutes este código se creará un archivo de texto llamado «video_converted» el cual guarda las matrices de todas las imágenes del vídeo.</p><p>Ahora abres el código de Arduino llamado «PANTALLA_POV_V2_ANIMACIONES» y en el archivo llamado «imgs.h» copias las matrices. </p><p>Ten cuidado de no borrar la variable que se encuentra al final llamada «frames». Sin embargo, si tienes que modificarla. Donde pone un «80» tienes que poner el número de tus imágenes. Y entre los corchetes, donde pone «frame0», «frame1», «frame2», etc., solo tienes que dejar hasta el número de imágenes que tengas. </p><p>Por último, en el archivo principal de Arduino cambiar el valor de la variable «NUM_IMAGES» por el número de imágenes que tenga tu animación. Con esto ya estaría todo. </p>\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>",
  "author": "wextersm",
  "favicon": "https://www.wexterhome.com/wp-content/uploads/2019/10/cropped-EtiqRecurso-5-192x192.png",
  "source": "wexterhome.com",
  "published": "2022-10-09T17:44:33+00:00",
  "ttr": 203,
  "type": "article"
}